<!--<div ng-if="colors && items && assessments">-->
<div>
<form ng-class="show && student['FirstName'] ? '' : 'force-no-print'" ng-if="!showFlashcards">
<h2 ng-if="student.FirstName">{{student['FirstName']}} {{student['LastName']}}'s Reading Assessments <small>{{student.Crew}}</small></h2>


<div class="form-group row no-print" ng-if="edit">
  <div class="col-sm-12">
    <div class="input-group" style="max-width: 500px;">
      <span class="input-group-addon" id="basic-addon1"><i class="fa fa-fw fa-link"></i></span>
      <input type="text" class="form-control" aria-describedby="basic-addon1" ng-model="link" ng-click="linkClick($event)" />
    </div>
  </div>
</div>

<button ng-click="toggleGradeLevelChart()" class="btn btn-default pull-right" ng-class="showGradeLevelChart ? 'active' : ''">Show Chart</button>
<h3>At a Glance</h3>
<img ng-class="!showGradeLevelChart ? 'hide-no-print' : ''" src="images/grade-level-chart.png" alt="Grade level vs text level chart" />
<table ng-if="assessments.length" class="table table-striped">
  <thead>
  <tr>
    <th>Quarter</th>
    <th>Level</th>
    <th>Mastery</th>
    <th>Grade Band</th>
    <th>Grade Level Closeness</th>
  </tr>
  </thead>
  <tbody>
  <tr ng-repeat="item in quarters">
    <td>{{item.Name}}</td>
    <td>{{item.assessment.TextLevel}}</td>
    <td>{{item.assessment.Mastery}}</td>
    <td>{{item.assessment.GradeLevel}}</td>
    <td><strong ng-class="item.Closeness >= 0 ? 'text-success' : 'text-danger'">{{item.assessment.Closeness | number:2}}</strong></td>
  </tr>
  </tbody>
</table>

<hr/>
<h3>All Assessments</h3>
<p ng-f="!assessments.length">No assessments have been created for {{student['FirstName']}} {{student['LastName']}}.</p>
<table ng-if="assessments.length" class="table table-striped">
  <thead>
  <tr>
    <th>Date</th>
    <th>Text Level</th>
    <th>Type</th>
    <th>Accuracy</th>
    <th>Comprehension</th>
    <th>Fluency</th>
    <th>Mastery</th>
    <th>Grade-level Closeness</th>
  </tr>
  </thead>
  <tbody>
  <tr ng-repeat="item in assessments">
    <td>{{item.Date | date:'MMMM d yyyy'}}</td>
    <td>{{item.TextLevel}}</td>
    <td>{{item.Type}}</td>
    <td>{{item.Accuracy}}</td>
    <td>{{item.Comprehension}}</td>
    <td>{{item.Fluency}}</td>
    <td>{{item.Mastery}}</td>
    <td><strong ng-class="item.Closeness >= 0 ? 'text-success' : 'text-danger'">{{item.Closeness | number:2}}</strong></td>
  </tr>
  </tbody>
</table>

<p class="no-print" ng-if="!assessment && edit">
  <button class="btn btn-primary" ng-click="newAssessment()"><i class="fa fa-fw fa-plus-circle"></i>Create New Assessment</button>
</p>

<div ng-if="assessment.Date">
  <form class="assessment no-print">
    <h3>Create New Assessment</h3>
    <hr/>
    <div class="form-group row">
      <label for="inputPassword3" class="col-sm-2 col-form-label">Student</label>
      <div class="col-sm-10">
        {{student['FirstName']}} {{student['LastName']}}
      </div>
    </div>
    <div class="form-group row">
      <label for="inputPassword3" class="col-sm-2 col-form-label">Grade Level</label>
      <div class="col-sm-10">
        {{student['Grade']}}
      </div>
    </div>
    <div class="form-group row">
      <label for="inputEmail3" class="col-sm-2 col-form-label">Date</label>
      <div class="col-sm-10">
        <input type="date" class="form-control" ng-model="assessment.Date" required="required">
      </div>
    </div>
    <hr/>
    <div class="form-group row">
      <label for="type" class="col-sm-2 col-form-label">Book Type</label>
      <div class="col-sm-10">
        <select class="form-control" ng-model="assessment.Type" id="type" required="required">
          <option>Fiction</option>
          <option>Non-fiction</option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label for="inputPassword3" class="col-sm-2 col-form-label">Text Level</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" ng-model="assessment.TextLevel" ng-change="updateCloseness()">
      </div>
    </div>
    <div class="form-group row">
      <label for="Closeness" class="col-sm-2 col-form-label">Grade-level Closeness</label>
      <div class="col-sm-10">
        <div ng-class="assessment.Closeness >= 0 ? 'text-success' : 'text-danger'"><strong>{{assessment.Closeness | number:2}}</strong></div>
        <div ng-if="growthLevel">
          <div>Current: {{growthLevel.current}}</div>
          <div>Expected: {{growthLevel.expected}}</div>
        </div>
      </div>
    </div>
    <hr/>
    <div class="form-group row">
      <label for="Accuracy" class="col-sm-2 col-form-label">Accuracy</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" ng-model="assessment.Accuracy" id="Accuracy">
      </div>
    </div>
    <div class="form-group row">
      <label for="Comprehension" class="col-sm-2 col-form-label">Comprehension</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" ng-model="assessment.Comprehension" id="Comprehension">
      </div>
    </div>
    <div class="form-group row">
      <label for="Fluency" class="col-sm-2 col-form-label">Fluency</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" ng-model="assessment.Fluency" id="Fluency">
      </div>
    </div>
    <div class="form-group row">
      <label for="Mastery" class="col-sm-2 col-form-label">Mastery</label>
      <div class="col-sm-10">
        <select class="form-control" ng-model="assessment.Mastery" id="Mastery">
          <option>Independent</option>
          <option>Instructional</option>
          <option>Hard</option>
        </select>
      </div>
    </div>
    <hr/>
    <div class="form-group row">
      <label for="Notes" class="col-sm-2 col-form-label">Notes</label>
      <div class="col-sm-10">
        <textarea class="form-control" ng-model="assessment.Notes" id="Notes"></textarea>
      </div>
    </div>
    <hr/>
    <div class="form-group row">
      <label for="" class="col-sm-2 col-form-label"></label>
      <div class="col-sm-10">
        <button class="btn btn-primary" ng-click="saveAssessment(assessment)"><i class="fa fa-fw fa-floppy-o"></i>Save</button>
        <button class="btn" ng-click="cancelAssessment()">Cancel</button>
      </div>
    </div>

  </form>

</div>